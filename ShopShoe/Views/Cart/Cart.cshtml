@model List<ShopShoe.ViewModels.CartItems>

@{
    ViewBag.Title = "Cart";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!--start-breadcrumbs-->
<div class="breadcrumbs">
    <div class="container">
        <div class="breadcrumbs-main">
            <ol class="breadcrumb">
                <li><a href="index.html">Home</a></li>
                <li class="active">Thanh toán</li>
            </ol>
        </div>
    </div>
</div>
<!--end-breadcrumbs-->
<!--start-ckeckout-->
<div class="ckeckout">
    <div class="container">
        <div class="ckeck-top heading">
            <h2>Giỏ hàng</h2>
        </div>
        <div class="ckeckout-top">
            @if (Session["Cart"] != null)
            {
                <div class="cart-items">

                    <h3>Giỏ hàng của tôi (@ViewBag.TongSL)</h3>

                    <table class="table table-bordered">
                        <thead>
                            <tr><td style="width:10%">#</td><td style="width:20%">Tên Xe</td><td style="width:20%">Giá Xe</td><td style="width:20%">Số lượng</td><td style="width:20%">Thành Tiền</td><td></td></tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td><img src="~/anh/xe/@item.Anh" style="height:70px" /></td>
                                    <td>@item.TenXe</td>
                                    <td>@String.Format("{0:0,0 đ}", item.GiaXe)</td>
                                    @using (Html.BeginForm("UpdateCart", "Cart", new { id = item.ID }))
                                    {
                                        <td>
                                            <input type="number" id="SoLuong" name="SoLuong" value="@item.SoLuong" min="1" max="20" />
                                            <input type="submit" value="Cập nhật" />
                                        </td>
                                    }
                                    <td>@String.Format("{0:0,0 đ}", item.ThanhTien)</td>
                                    <td><a href="@Url.Action("DeleteCart", "Cart", new { id = item.ID })" class="btn btn-danger btn-sm" title="Xóa">Xóa</a></td>
                                </tr>
                            }
                            <tr><td colspan="6">Tổng tiền : @String.Format("{0:0,0 đ}", ViewBag.TongTien)</td></tr>
                        </tbody>
                    </table>
                    <div class="form-group">
                        <a href="/" class="btn btn-default">Mua thêm</a>
                        <a href="@Url.Action("ThanhToan","Cart")" class="btn btn-default">Thanh toán</a>
                    </div>
                </div>
            }
            else
            {
                <h3>Giỏ hàng trống</h3>
            }
        </div>
    </div>
</div>
<!--end-ckeckout-->
